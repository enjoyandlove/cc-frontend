<div class="cp-card actions col-xs-12">
  <div class="row">

    <cp-searchbox
      (query)="onSearch($event)"
      class="col-xs-2">
    </cp-searchbox>

    <div class="col-xs-3">
      <div class="row">
        <div class="col-xs-9">
          <cp-dropdown
            [items]="eventFilter"
            (selected)="onEventDate($event.action)">
          </cp-dropdown>
        </div>
        <div
          class="col-xs-3 text-left no-left-padding">
          <button
            type="button"
            [class.isOpen]="isCalendar"
            [class.isSelected]="isFilteredByDate"
            (click)="onToggleCalendar($event)"
            class="cpbtn cpbtn--cancel cpbtn--no-padding calendar">
            <i class="material-icons hover">date_range</i>
          </button>
          <cp-small-datepicker
            [hidden]="!isCalendar"
            (reset)="onDateReset()"
            (rangeChange)="isCalendar = false"
            (rangeChange)="onDateRange($event)"
            [options]="dateFilterOpts">
          </cp-small-datepicker>
        </div>
      </div>
    </div>

    <div class="col-xs-5">
      <div class="row">
        <div class="col-xs-6" *ngIf="!isSimple">
          <div class="row">
            <div class="col-xs-12">
              <cp-dropdown
                [items]="stores$ | async"
                (selected)="onFilterByHost($event.value)">
              </cp-dropdown>
            </div>
          </div>
        </div>
        <div class="col-xs-6">
          <div class="col-xs-9 text-truncate text-right">
              <label i18n>Assessment</label>
            </div>
            <div class="col-xs-3 no-left-padding">
              <cp-checkbox
                (toggle)="onAttendanceToggle($event)"
                class="checkbox">
              </cp-checkbox>
            </div>
        </div>
      </div>
    </div>

    <div class="col-xs-2 text-right" *ngIf="canWriteSchoolWide">
      <a
        [routerLink]="['create']" i18n
        class="cpbtn cpbtn--primary cpbtn--square-right no-right-padding">
        Create Event
      </a>
      <div
        class="cpbtn cpbtn--square-left cpbtn--no-padding cpbtn--primary no-left-padding hover action-dropdown">
        <i class="material-icons" data-toggle="dropdown">expand_more</i>
        <ul class="dropdown-menu dropdown-menu-right text-left action-dropdown-list">
          <li i18n>
            <a [routerLink]="['import/facebook']">
              Import from Facebook
            </a>
          </li>
          <li i18n (click)="launchModal()">Import from CSV</li>
        </ul>
      </div>
    </div>
  </div>
</div>
