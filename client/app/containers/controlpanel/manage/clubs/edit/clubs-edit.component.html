<ng-container [ngSwitch]="isFormReady">
  <cp-spinner *ngSwitchCase="false"></cp-spinner>

  <ng-container *ngSwitchCase="true">
    <div class="row margin-bottom">
      <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
        <div class="col-xs-6">
          <div class="cp-card">
            <div class="row">
              <div class="col-xs-12">
                <p class="title" i18n>{{ 'clubs_label_club_banner' | cpI18n }}</p>
                <div class="row">
                  <cp-image-upload
                    (uploaded)="onUploadedImage($event)"
                    description="Upload a picture for your club"
                    [defaultImage]="form.controls['logo_url'].value"
                    [required]="formError && form.controls['logo_url'].hasError('required')">
                  </cp-image-upload>
                </div>
              </div>
            </div>

            <div class="form-group club-details">
              <div class="row">
                <div class="col-xs-12">
                  <p class="title" i18n>{{ 'clubs_label_club_details' | cpI18n }}</p>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12">
                  <label i18n>{{ 'clubs_label_club_name' | cpI18n }}</label>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="name"
                    placeholder="Add a short, clear name"
                    [class.error]="formError && form.controls['name'].hasError('required')">
                </div>
              </div>
            </div>

            <div class="row form-group">
              <div class="col-xs-12">
                <label i18n>{{ 'clubs_label_club_description' | cpI18n }}</label>
                <textarea
                  class="form-control"
                  formControlName="description"
                  placeholder="Tell people more about the club">
                </textarea>
              </div>
            </div>

            <div class="row form-group">
              <div class="col-xs-6">
                <label i18n>{{ 'clubs_label_club_status' | cpI18n }}</label>
                <div class="row">
                  <div class="col-xs-12">
                    <cp-check-dropdown
                      [items]="statusTypes"
                      [selectedItem]="defaultStatus"
                      buttonClass="cpbtn cpbtn--cancel"
                      (selected)="onSelectedStatus($event)">
                    </cp-check-dropdown>
                  </div>
                </div>
              </div>
              <div class="col-xs-6">
                <label i18n>{{ 'clubs_label_club_membership' | cpI18n }}</label>
                <div class="row">
                  <div class="col-xs-12">
                    <cp-check-dropdown
                      [items]="membershipTypes"
                      buttonClass="cpbtn cpbtn--cancel"
                      [selectedItem]="defaultMembership"
                      (selected)="onSelectedMembership($event)">
                    </cp-check-dropdown>
                  </div>
                </div>
              </div>
            </div>

            <div class="row form-group">
              <div class="col-xs-12">
                <label i18n>{{ 'location' | cpI18n }}</label>
                <div class="row form-group">
                  <div class="col-xs-12">
                    <cp-place-autocomplete
                      placeHolder="Address..."
                      [newAddress]="newAddress"
                      (backToDefault)="onResetMap()"
                      (placeChange)="onPlaceChange($event)"
                      [defaultValue]="form.controls.address.value">
                    </cp-place-autocomplete>
                  </div>
                </div>
                <div class="row form-group">
                  <div class="col-xs-6">
                    <input
                      type="text"
                      class="form-control"
                      formControlName="location"
                      placeholder="Building">
                  </div>
                  <div class="col-xs-6">
                    <input
                      type="text"
                      class="form-control"
                      formControlName="room_info"
                      placeholder="Room">
                  </div>
                </div>
              </div>
            </div>

            <div class="row form-group">
              <div class="col-xs-12 maps">
                <cp-maps
                  [center]="mapCenter"
                  (mapSelection)="onMapSelection($event)">
                </cp-maps>
              </div>
            </div>
          </div>
        </div>

        <div class="col-xs-6">
          <div class="cp-card contact">
            <div class="row form-group">
              <div class="col-xs-12">
                <p class="title" i18n>{{ 'contact_details' | cpI18n }}</p>

                <div class="row form--group">
                  <div class="col-xs-6">
                    <label i18n>{{ 'website' | cpI18n }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="website">
                  </div>

                  <div class="col-xs-6">
                    <label i18n>{{ 'phone_number' | cpI18n  }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="phone">
                  </div>
                </div>

                <div class="row">
                  <div class="col-xs-12">
                    <label i18n>{{ 'email' | cpI18n  }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="email">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="cp-card" *ngIf="isSJSU">
            <div class="row form-group">
              <div class="col-xs-12">
                <p class="title" i18n>{{ 'clubs_label_advisor' | cpI18n }}</p>

                <div class="row form--group">
                  <div class="col-xs-6">
                    <label i18n>{{ 'first_name' | cpI18n }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="advisor_firstname"
                      [class.error]="formError && form.controls['advisor_firstname'].hasError('required')">
                  </div>

                  <div class="col-xs-6">
                    <label i18n>{{ 'last_name' | cpI18n  }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="advisor_lastname"
                      [class.error]="formError && form.controls['advisor_lastname'].hasError('required')">
                  </div>
                </div>

                <div class="row">
                  <div class="col-xs-12">
                    <label i18n>{{ 'email' | cpI18n  }}</label>
                    <input
                      type="text"
                      class="form-control"
                      formControlName="advisor_email"
                      [class.error]="formError && form.controls['advisor_email'].hasError('required')">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="footer">
          <div class="cp-wrapper cp-wrapper--outer">
            <div class="col-xs-12">
              <div class="row">
                <div class="col-xs-12">
                  <div class="text-right">
                    <label class="error" *ngIf="formError" i18n>
                        <span>&#x26A0;</span> {{ 'error_fill_out_marked_fields' | cpI18n }}
                    </label>
                    <a [routerLink]="['../info']"
                      class="cpbtn cpbtn--cancel" i18n>
                      {{ 'cancel' | cpI18n }}
                    </a>
                    <cp-button
                      [props]="buttonData"
                      (buttonClick)="onSubmit()">
                    </cp-button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </ng-container>
</ng-container>
