<div class="row">
  <div class="col-xs-12">
    <cp-no-content
      class="no-content"
        *ngIf="disablePost"
        [noContentText]="cpI18n.translate('feeds_error_wall_is_disabled')">
    </cp-no-content>

    <div
      [class]="[replyView ? '' : 'cp-card']"
      *ngIf="!disablePost">
      <form
        [formGroup]="form"
        (ngSubmit)="onSubmit(form.value)">
        <div class="row form-group">
          <div class="col-xs-6 text-left">
            <p class="text-muted maxLength">
              {{ form.controls.message.value ? form.controls.message.value.length : 0 }}/500
            </p>
          </div>
          <div class="col-xs-6 text-right">
            <label class="error" *ngIf="imageError">{{ imageError }}</label>
            <cp-upload-button
              [buttonText]="cpI18n.translate('button_add_photo')"
              buttonClass="cpbtn cpbtn--link"
              (fileUpload)="onFileUpload($event)">
            </cp-upload-button>
          </div>
        </div>
        <div class="row form-group">
          <div class="col-xs-12">
            <cp-text-editor
              [image$]="image$"
              [reset$]="resetTextEditor$"
              (contentChange)="onContentChange($event)">
            </cp-text-editor>
          </div>
        </div>
        <div class="row">
          <div
            *ngIf="!clubId && !_isCampusWallView;"
            class="col-xs-10 channel-dropdown no-right-padding">
            <div class="row">
              <div class="col-xs-6">
                <div class="row">
                  <div class="col-xs-5 no-right-padding">
                    <span i18n>{{ 'feeds_post_as' | cpI18n }}</span>
                  </div>
                  <div class="col-xs-7 no-left-padding">
                    <cp-dropdown
                      class="dropdown"
                      [items]="stores$ | async"
                      (selected)="onSelectedHost($event)"
                      [selectedItem]="session.defaultHost">
                    </cp-dropdown>
                  </div>
                </div>
              </div>
              <div
                class="col-xs-6"
                *ngIf="!replyView">
                <div class="row">
                  <div class="col-xs-4 no-right-padding">
                    <span i18n>{{ 'feeds_post_to' | cpI18n }}</span>
                  </div>
                  <div class="col-xs-8 no-left-padding">
                    <cp-dropdown
                      [reset]="reset$"
                      class="dropdown"
                      [items]="channels$ | async"
                      (selected)="onSelectedChannel($event)">
                    </cp-dropdown>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xs-2 pull-right text-right">
            <button
              type="submit"
              [disabled]="!form.valid"
              class="cpbtn cpbtn--primary text-right" i18n>
              {{ 'walls_button_create_post' | cpI18n }}
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>