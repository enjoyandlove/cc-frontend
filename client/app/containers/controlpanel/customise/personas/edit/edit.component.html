<ng-container [ngSwitch]="loading">
  
  <cp-spinner *ngSwitchCase="true"></cp-spinner>
  
  <ng-container *ngSwitchCase="false">
    <div class="row margin-bottom">
      <div class="col-xs-6 col-xs-offset-3">
        <div class="cp-card persona">
          <div class="row">
            <div class="col-xs-12">
              <p class="title">{{'t_personas_edit_form_title' | cpI18n}}</p>
              <cp-personas-form 
                #editForm
                [form]="form"
                (valueChanges)="onFormValueChanges($event)">
              </cp-personas-form>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-xs-12">
              <cp-button
                [props]="deleteButtonData"
                (buttonClick)="onDelete()">
              </cp-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <div class="cp-wrapper cp-wrapper--outer">
        <div class="col-xs-12">
          <div class="row">
            <div class="col-xs-12">
              <div class="text-right">
                <a [routerLink]="['/customize/personas']"
                    class="cpbtn cpbtn--cancel">
                  {{ 't_persona_edit_cancel_button' | cpI18n }}
                </a>
                <cp-button
                  [props]="submitButtonData"
                  (buttonClick)="onSubmit()">
                </cp-button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>