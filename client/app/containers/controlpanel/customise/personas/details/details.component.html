<ng-container [ngSwitch]="loading">
  <cp-spinner *ngSwitchCase="true"></cp-spinner>
  <ng-container *ngSwitchCase="false">
    <div class="cp-card">
      <div 
        class="row" 
        *ngFor="let guide of guides">
        <div class="col-12">
          <cp-personas-section 
            [guide]="guide"
            (deleteTile)="onDeleteTile($event)"
            (editTileClick)="onEditTile($event)"
            (addTileClick)="onAddTileToGuideClick(guide)"
            (toggleTileVisibility)="onToggleTileVisibility($event)">
          </cp-personas-section>
        </div>
      </div>
    </div>

    <cp-modal modalId="tilesCreate">
      <cp-personas-tile-create></cp-personas-tile-create>
    </cp-modal>
  </ng-container>
</ng-container>