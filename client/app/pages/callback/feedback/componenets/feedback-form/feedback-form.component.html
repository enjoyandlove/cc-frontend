<div class="row">
  <div class="col-xs-12">
    <div class="cp-card">
      <div class="row">
        <div class="col-xs-8 col-xs-offset-2">

          <cp-feedback-confirmation
            *ngIf="_isSubmitted">
          </cp-feedback-confirmation>

          <form
            *ngIf="!_isSubmitted"
            (ngSubmit)="onSubmit()"
            [formGroup]="feedbackForm">
            <div class="form-group">
              <p class="title text-center" *ngIf="!defaultQuestion" i18n>
                Please click a star to rate the {{ isEvent ? 'event' : 'service' }}
              </p>
              <p class="title text-center" *ngIf="defaultQuestion" i18n>
                {{ defaultQuestion }}
              </p>
            </div>

            <div class="form-group">
              <cp-feedback-stars (rated)="onRated($event)"></cp-feedback-stars>
            </div>

            <div class="form-group">
              <textarea
                class="form-control"
                formControlName="user_feedback_text"
                placeholder="Tells us what you think...">
              </textarea>
            </div>

            <div class="row form-group">
              <div class="col-xs-12">
                <button
                  type="submit"
                  [disabled]="!feedbackForm.valid"
                  class="cpbtn cpbtn--tall cpbtn--full-width cpbtn--primary" i18n>
                  Rate {{ isEvent ? 'event' : 'service' }}
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>