<div class="cpmodal no-scroll-bar">
  <div class="cpmodal__header">
    <div class="row">
      <div class="col-12 text-center">
        <span
          ><strong>{{ modalTitle }}</strong></span
        >

        <span data-dismiss="modal" class="float-right hover cpmodal__header__close">
          &times;
        </span>
      </div>
    </div>
  </div>

  <div class="cpmodal__body">
    <div class="row">
      <div class="col-12">
        <form [formGroup]="form" class="feed-form">
          <div class="feed-form__header row">
            <span class="col-4">{{ wallName }}</span>
            <span class="col-4">{{ 'feeds_can_post' | cpI18n }}</span>
            <span class="col-4">{{ 'feeds_can_comment' | cpI18n }}</span>
          </div>

          <div class="feed-form__body" formArrayName="walls">
            <div
              class="feed-form__item row"
              *ngFor="let wall of form['controls'].walls['controls']; let i = index"
            >
              <div class="col-4 title">
                <span>{{ wall.controls.name.value }}</span>
              </div>
              <div class="col-4">
                <cp-dropdown
                  [items]="privileges"
                  (selected)="onCanPostChanged($event, i)"
                  [selectedItem]="getPrivilegeObj(wall.controls.min_posting_member_type.value)"
                >
                </cp-dropdown>
              </div>
              <div class="col-4">
                <cp-dropdown
                  [items]="privileges"
                  (selected)="onCanCommentChanged($event, i)"
                  [selectedItem]="getPrivilegeObj(wall.controls.min_commenting_member_type.value)"
                >
                </cp-dropdown>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="cpmodal__footer">
    <div class="row justify-content-end">
      <div class="col-6 text-right">
        <button type="button" data-dismiss="modal" class="cpbtn cpbtn--primary" i18n>
          {{ 'done' | cpI18n }}
        </button>
      </div>
    </div>
  </div>
</div>
