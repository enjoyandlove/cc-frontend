<cp-page-header [data]="pageHeader"></cp-page-header>

<div class="cp-wrapper">
  <div class="row">
    <div *ngIf="!isCompleted"
         class="col-4 offset-4">
      <form [formGroup]="form"
            autocomplete="off"
            (ngSubmit)="onSubmit(form.value)">
        <div class="form-group">
          <label for="current">{{ 'auth_old_password' | cpI18n }}</label>
          <input id="current"
                 type="password"
                 autocomplete="off"
                 class="form-control"
                 formControlName="current" />
        </div>
        <div class="form-group">
          <label for="password">{{ 'new_password' | cpI18n }}</label>
          <input id="password"
                 type="password"
                 class="form-control"
                 formControlName="password" />
        </div>
        <div class="form-group">
          <label
                 for="confirmation">{{ 'auth_confirm_new_password' | cpI18n }}</label>
          <input id="confirmation"
                 type="password"
                 class="form-control"
                 formControlName="confirmation" />
        </div>
        <div class="row">
          <div class="col-12">
            <button type="submit"
                    class="cpbtn cpbtn--tall cpbtn--primary">
              {{ 'change_password' | cpI18n }}
            </button>
          </div>
        </div>
      </form>
    </div>

    <div *ngIf="isCompleted"
         class="col-8 offset-2 text-center">
      <p>{{ 'auth_password_reset_success' | cpI18n }}</p>
    </div>
  </div>
</div>