<ul class="integrations cp-form">
  <li class="cp-form__header col-12">
    <div class="row">
      <span class="col-4">{{ 't_shared_url' | cpI18n }}</span>
      <span class="col-2">{{ 't_shared_status' | cpI18n }}</span>
      <span class="col-1">{{ 't_shared_type' | cpI18n }}</span>
      <span class="col-3">{{ 't_shared_last_synced' | cpI18n }}</span>
      <span class="col-2"></span>
    </div>
  </li>

  <li
    [cpTarget]="['feed_' + i]"
    class="cp-form__item col-12"
    *ngFor="let integration of integrations$ | async; let i = index"
  >
    <div class="row">
      <span
        class="col-4 text-truncate"
        [cpTarget]="['feed_title_' + i]"
        [attr.title]="integration.feed_url"
      >
        {{ integration.feed_url }}
      </span>
      <span class="col-2">
        {{ integration.sync_status | cpIntegrationStatus | cpI18n }}
      </span>
      <span class="col-1">
        {{ integration.feed_type | cpIntegrationType }}
      </span>
      <span class="col-3">
        {{
          integration.last_successful_sync_epoch > notSynced
            ? (integration.last_successful_sync_epoch | cpDatePipe: dateFormat)
            : null
        }}
      </span>
      <span class="col-2 justify-content-between d-flex align-items-start">
        <cp-integrations-sync-now-button
          [integration]="integration"
          (syncClick)="syncClick.emit(integration.id)"
        >
        </cp-integrations-sync-now-button>
        <button
          type="button"
          aria-label="delete"
          class="hover delete-integration unstyled-button"
          (click)="deleteClick.emit(integration)">
          <span aria-hidden="true">&times;</span>
        </button>
      </span>
    </div>
  </li>
</ul>
